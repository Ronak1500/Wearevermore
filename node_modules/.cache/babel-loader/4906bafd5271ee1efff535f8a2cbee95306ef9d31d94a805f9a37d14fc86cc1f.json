{"ast":null,"code":"import _objectSpread from\"C:/Users/windows10/Desktop/Essentail/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/windows10/Desktop/Essentail/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{baseUrl}from\"./baseUrl\";import Footer from\"./Footer\";import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(){useEffect(function(){getCartData();},[]);var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartData=_useState2[0],setCartData=_useState2[1];var totalPrice=cartData.map(function(i){return i.price*i.quantity;}).reduce(function(a,b){return a+b;},0);var getCartData=function getCartData(){axios.get(baseUrl+\"cart\").then(function(res){return setCartData(res.data.data);});};var deleteCartData=function deleteCartData(x){axios.delete(baseUrl+\"cart/\"+x).then(function(){return getCartData();});};var updateData=function updateData(x,y){axios.put(baseUrl+\"cart/\"+x,{quantity:y}).then(function(){return getCartData();});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"b\",{style:{fontSize:40,fontWeight:\"lighter\"},children:\"Your Cart\"}),/*#__PURE__*/_jsx(\"div\",{style:{borderBottom:\"1px solid black\",width:\"11%\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"label\",{onClick:function onClick(){return navigate(\"/\");},style:{cursor:\"pointer\"},children:\"Continue Shopping\"})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"90%\",marginLeft:\"5%\"},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:\"50%\"},children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"center\"},children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quality\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:\"end\"},children:\"Total\"})]}),/*#__PURE__*/_jsx(\"tbody\",{children:cartData.map(function(i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{width:\"50%\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",display:\"flex\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:\"20%\"},children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"100%\"},src:i===null||i===void 0?void 0:i.thumbnailImage})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",marginLeft:\"5%\"},children:[/*#__PURE__*/_jsx(\"label\",{children:i.title}),/*#__PURE__*/_jsx(\"b\",{children:i===null||i===void 0?void 0:i.brand}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Size : \",i===null||i===void 0?void 0:i.size]}),/*#__PURE__*/_jsx(\"label\",{style:{textDecoration:\"underline\"},onClick:function onClick(){return deleteCartData(i._id);},children:\"Remove\"})]})]})}),/*#__PURE__*/_jsxs(\"td\",{style:{width:\"20%\",textAlign:\"center\"},children:[\"Rs.\",i===null||i===void 0?void 0:i.price]}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"10%\"},children:/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){updateData(i._id,e.target.value);setCartData(cartData.map(function(j){return j._id===i.Id?_objectSpread(_objectSpread({},j),{},{quantity:e.target.value}):i;}));},type:\"number\",min:1,value:i===null||i===void 0?void 0:i.quantity,style:{width:\"60%\",height:\"6vh\"}})}),/*#__PURE__*/_jsxs(\"td\",{style:{width:\"20%\",textAlign:\"end\"},children:[\"Rs.\",(i===null||i===void 0?void 0:i.quantity)*(i===null||i===void 0?void 0:i.price)]})]});})})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"100%\",display:\"flex\",flexDirection:\"column\",alignItems:\"end\",paddingRight:\"5%\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:\"20%\",display:\"flex\",justifyContent:\"space-between\",fontSize:18},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"b\",{children:[\"Rs.\",totalPrice]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Taxes and shipping calculated at checkout\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/Checkout\");},style:{width:\"10%\",height:\"6vh\",border:\"none\",color:\"white\",backgroundColor:\"black\"},children:\"CHECK OUT\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Footer,{})]});}export default Cart;","map":{"version":3,"names":["axios","React","useEffect","useState","useNavigate","baseUrl","Footer","Header","jsx","_jsx","jsxs","_jsxs","Cart","getCartData","navigate","_useState","_useState2","_slicedToArray","cartData","setCartData","totalPrice","map","i","price","quantity","reduce","a","b","get","then","res","data","deleteCartData","x","delete","updateData","y","put","children","style","width","display","flexDirection","alignItems","fontSize","fontWeight","borderBottom","textAlign","onClick","cursor","marginLeft","className","src","thumbnailImage","title","brand","size","textDecoration","_id","onChange","e","target","value","j","Id","_objectSpread","type","min","height","paddingRight","justifyContent","border","color","backgroundColor"],"sources":["C:/Users/windows10/Desktop/Essentail/frontend/src/Pages/Cart.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { baseUrl } from \"./baseUrl\";\r\nimport Footer from \"./Footer\";\r\nimport Header from \"./Header\";\r\n\r\nfunction Cart() {\r\n  useEffect(() => {\r\n    getCartData();\r\n  }, []);\r\n  const navigate = useNavigate();\r\n  const [cartData, setCartData] = useState([]);\r\n  const totalPrice = cartData.map((i) => i.price*i.quantity).reduce((a, b) => a + b, 0);\r\n  const getCartData = () => {\r\n    axios\r\n      .get(baseUrl+\"cart\")\r\n      .then((res) => setCartData(res.data.data));\r\n  };\r\n  const deleteCartData = (x) => {\r\n    axios\r\n      .delete(baseUrl+\"cart/\" + x)\r\n      .then(() => getCartData());\r\n  };\r\n  const updateData = (x,y)=>{\r\n    axios.put(baseUrl+\"cart/\" + x,{\r\n        quantity:y\r\n    }).then(()=>getCartData())\r\n  }\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <b style={{ fontSize: 40, fontWeight: \"lighter\" }}>Your Cart</b>\r\n        <div\r\n          style={{\r\n            borderBottom: \"1px solid black\",\r\n            width: \"11%\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <label onClick={()=>navigate(\"/\")} style={{cursor:\"pointer\"}}>Continue Shopping</label>\r\n        </div>\r\n      </div>\r\n      <br />\r\n      <div style={{ width: \"90%\", marginLeft: \"5%\" }}>\r\n        <table className=\"table\">\r\n          <thead>\r\n            <th style={{ width: \"50%\" }}>Product</th>\r\n            <th style={{ textAlign: \"center\" }}>Price</th>\r\n            <th>Quality</th>\r\n            <th style={{ textAlign: \"end\" }}>Total</th>\r\n          </thead>\r\n          <tbody>\r\n            {cartData.map((i) => (\r\n              <tr>\r\n                <td style={{ width: \"50%\" }}>\r\n                  <div style={{ width: \"100%\", display: \"flex\" }}>\r\n                    <div style={{ width: \"20%\" }}>\r\n                      <img style={{ width: \"100%\" }} src={i?.thumbnailImage} />\r\n                    </div>\r\n                    <div \r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        marginLeft: \"5%\",\r\n                      }}\r\n                    >\r\n                      <label>{i.title}</label>\r\n                      <b>{i?.brand}</b>\r\n                      <label>Size : {i?.size}</label>\r\n                      <label\r\n                        style={{ textDecoration: \"underline\" }}\r\n                        onClick={() => deleteCartData(i._id)}\r\n                      >\r\n                        Remove\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td style={{ width: \"20%\", textAlign: \"center\" }}>\r\n                  Rs.{i?.price}\r\n                </td>\r\n                <td style={{ width: \"10%\" }}>\r\n                  <input\r\n                  onChange={(e)=>{\r\n                    updateData(i._id,e.target.value)\r\n                    setCartData(cartData.map((j)=>j._id===i.Id?{...j,quantity:e.target.value}:i))\r\n                  }\r\n                }\r\n                    type=\"number\"\r\n                    min={1}\r\n                    value={i?.quantity}\r\n                    style={{ width: \"60%\", height: \"6vh\" }}\r\n                  />\r\n                </td>\r\n                <td style={{ width: \"20%\", textAlign: \"end\" }}>\r\n                  Rs.{i?.quantity*i?.price}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div style={{width:\"100%\",display:\"flex\", flexDirection:\"column\", alignItems:\"end\", paddingRight:\"5%\"}}>\r\n        <div style={{width:\"20%\",display:\"flex\", justifyContent:\"space-between\", fontSize:18}}>\r\n        <label>Subtotal:</label>\r\n        <b>Rs.{totalPrice}</b>\r\n        </div>\r\n        <div >\r\n        <label>Taxes and shipping calculated at checkout</label>\r\n        </div>\r\n        <button onClick={()=>navigate(\"/Checkout\")} style={{width:\"10%\", height:\"6vh\", border:\"none\", color:\"white\", backgroundColor:\"black\", }}>CHECK OUT</button>\r\n      </div>\r\n      <br/>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}